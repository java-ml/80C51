/*
 查询模式
ORG 0000H
MOV TMOD,#01H
MOV 50H,#20
MOV TL0,#0B0H
MOV TH0,#3CH
MOV A,#0FEH
MOV P2,A

SETB TR0
LP1:JBC TF0,LP2
	SJMP LP1
LP2:MOV TL0,#0B0H
	MOV TH0,#3CH
    DJNZ 50H,LP1
	MOV 50H,#20
	MOV P2,A
	RL  A
	
	SJMP LP1
END
*/
 //中断模式
 
ORG 0000H
SJMP START
ORG 000BH
SJMP LP2

ORG 0055H
START:	MOV TMOD,#01H
		MOV 50H,#20
		MOV TL0,#0B0H
		MOV TH0,#3CH
		MOV A,#0FEH
		MOV P2,A
		MOV IE,#82H
		
		SETB TR0
		SJMP $
LP2:	MOV TL0,#0B0H
		MOV TH0,#3CH
		DJNZ 50H,LP1
		MOV 50H,#20
		MOV P2,A
		RL  A
LP1:	RETI
END
//https://github.com/zhangziyu01/80C51